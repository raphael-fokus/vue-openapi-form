import{d as H,a as n,_ as i,B as d,p as l,E,o as r,c as M,g as s,u as m,l as p,n as _,C as w}from"./index.190f0c2b.js";const P=H({__name:"Editor",props:{modelValue:{default:""},originalValue:{default:""},readOnly:{type:Boolean,default:!1},language:{default:""},showMinimap:{type:Boolean,default:!1},editorHeight:{default:40},editorTheme:{default:""},wordWrap:{default:"on"},validation:{default:()=>({uri:""})}},emits:["update:modelValue"],setup(B,{emit:C}){const t=B,T=C,V=n(()=>i(()=>import("./EditorTabs.7c0f599b.js"),["assets/EditorTabs.7c0f599b.js","assets/index.190f0c2b.js","assets/index.b810dbe8.css"])),L=n(()=>i(()=>import("./Preloader.f1988a09.js"),["assets/Preloader.f1988a09.js","assets/index.190f0c2b.js","assets/index.b810dbe8.css"])),O=n(()=>i(()=>import("./Banner.2a96d9f9.js"),["assets/Banner.2a96d9f9.js","assets/index.190f0c2b.js","assets/index.b810dbe8.css"])),v=n({loader:()=>i(()=>import("./MonacoEditor.2d899ce0.js").then(function(e){return e.M}),["assets/MonacoEditor.2d899ce0.js","assets/MonacoEditor.feb26aa2.css","assets/index.190f0c2b.js","assets/index.b810dbe8.css"]),loadingComponent:L,delay:200,errorComponent:O,timeout:1e5}),o=d("edit"),a=d(""),u=d(""),c=l(()=>{const e=a.value.split(`
`).length;return t.showMinimap&&e>25}),f=l(()=>t.editorTheme||(document.documentElement.classList.contains("is-dark-theme")?"vs-dark":"vs")),b=e=>{typeof e=="string"&&(a.value=e)},k=e=>{e.onDidBlurEditorText instanceof Function&&e.onDidBlurEditorText(()=>{T("update:modelValue",a.value)})},g=l(()=>typeof t.editorHeight=="number"?`vh-${t.editorHeight}`:""),h=l(()=>typeof t.editorHeight=="string"?{height:t.editorHeight}:{});return E(()=>t.modelValue,e=>{a.value!==e&&(a.value=e)},{immediate:!0}),E(()=>t.originalValue,e=>{u.value!==e&&(u.value=e)},{immediate:!0}),(e,y)=>(r(),M("div",null,[e.readOnly?p("",!0):(r(),s(m(V),{key:0,onTabchange:y[0]||(y[0]=D=>o.value=D),"active-tab":o.value},null,8,["active-tab"])),o.value==="edit"?(r(),s(m(v),{onEditorDidMount:k,key:"edit",class:_(["is-clipped",g.value]),style:w(h.value),value:a.value,onChange:b,language:e.language,options:{minimap:{enabled:c.value},theme:f.value,readOnly:e.readOnly,wordWrap:e.wordWrap,scrollBeyondLastLine:!1},validation:e.validation,"data-testid":"monaco-editor-edit-section"},null,8,["class","style","value","language","options","validation"])):p("",!0),o.value==="preview"?(r(),s(m(v),{key:"preview",class:_(["is-clipped",g.value]),style:w(h.value),value:a.value,language:e.language,options:{minimap:{enabled:c.value},theme:f.value,readOnly:!0,wordWrap:e.wordWrap,scrollBeyondLastLine:!1},original:u.value,"diff-editor":!0,validation:e.validation,"data-testid":"monaco-editor-preview-section"},null,8,["class","style","value","language","options","original","validation"])):p("",!0)]))}});export{P as default};
