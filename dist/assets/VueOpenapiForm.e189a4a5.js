import{d as O,a as o,_ as n,b as P,o as d,c,e as V,t as j,w as J,v as N,F as $,r as A,f as m,g as f,h as p,i as g,j as S,n as B}from"./index.190f0c2b.js";const M=function(e){return e=e.charAt(0).toUpperCase()+e.slice(1),e.replace(/([a-z0-9])([A-Z])/g,"$1 $2")},_=function(e,r){let t=Object.assign({},{title:r},{...e});if(e.type==="object"){let l={};try{e.properties?(Object.keys(e.properties).forEach(i=>{const s=M(i);l=Object.assign({},{...l},{[`${i}`]:{..._(e.properties[i],s)}})}),t=Object.assign({},{...t},{properties:{...l}})):e.additionalProperties&&(t=Object.assign({},{...t},{type:"key-value-pairs"}),t.additionalProperties=Object.assign({},{...e.additionalProperties},{..._(e.additionalProperties,"Value")}))}catch{}}else if(e.type==="array"){let l={};const i="";l=Object.assign({},{...l},{..._(e.items,i)}),t=Object.assign({},{...t},{items:{...l}})}else{let l="";e.type==="number"||e.type==="integer"?l="number":e.type==="boolean"?l="checkbox":l="text",t=Object.assign({},{...t},{ui:{tag:"input",type:l}})}return t};function C(e,r){return _(e,r)}var U=O({components:{VForm:o(()=>n(()=>import("./index.190f0c2b.js").then(function(e){return e.G}),["assets/index.190f0c2b.js","assets/index.b810dbe8.css"]).then(({Form:e})=>e)),VField:o(()=>n(()=>import("./index.190f0c2b.js").then(function(e){return e.G}),["assets/index.190f0c2b.js","assets/index.b810dbe8.css"]).then(({Field:e})=>e)),ComponentErrors:o(()=>n(()=>import("./ComponentErrors.8eddc804.js"),["assets/ComponentErrors.8eddc804.js","assets/index.190f0c2b.js","assets/index.b810dbe8.css"]).then(e=>e.default)),RightWrongSigns:o(()=>n(()=>import("./RightWrongSigns.eac94702.js"),["assets/RightWrongSigns.eac94702.js","assets/index.190f0c2b.js","assets/index.b810dbe8.css"]).then(e=>e.default))},props:{isSelfRequired:{type:Boolean,default:!1}},methods:{ruleString(e){let r="";return e&&(r+="required"),r},ruleArray(e){let r={};return e&&(r.required=!0),r},ruleObject(e){let r={};return e&&(r.requiredOb=!0),r},calcFormErrors(e,r){return Object.keys(e).filter(t=>t.startsWith(r)).map(t=>{const l=t.replace(/^(\$\/)/,""),i=r.replace(/^(\$\/)/,""),s=l.replace(i+"/","");return`${s.includes("/")?`${s}: `:""}${e[t]}`})}}});const k=O({components:{ObjectFormWrapper:o(()=>n(()=>import("./ObjectFormWrapper.65089bbb.js"),["assets/ObjectFormWrapper.65089bbb.js","assets/fold.2ad901f0.js","assets/index.190f0c2b.js","assets/index.b810dbe8.css","assets/tabs.a35833a1.js"]).then(e=>e.default)),ObjectForm:o(()=>n(()=>import("./ObjectForm.dd03a166.js"),["assets/ObjectForm.dd03a166.js","assets/fold.2ad901f0.js","assets/index.190f0c2b.js","assets/index.b810dbe8.css"]).then(e=>e.default)),ArrayInput:o(()=>n(()=>import("./ArrayInput.4d0db488.js"),["assets/ArrayInput.4d0db488.js","assets/index.190f0c2b.js","assets/index.b810dbe8.css","assets/tabs.a35833a1.js","assets/size.1aff7429.js"]).then(e=>e.default)),KeyValuePairs:o(()=>n(()=>import("./KeyValuePairs.d2f91105.js"),["assets/KeyValuePairs.d2f91105.js","assets/index.190f0c2b.js","assets/index.b810dbe8.css","assets/tabs.a35833a1.js","assets/size.1aff7429.js"]).then(e=>e.default)),SimpleInput:o(()=>n(()=>import("./SimpleInput.71c459ab.js"),["assets/SimpleInput.71c459ab.js","assets/size.1aff7429.js","assets/index.190f0c2b.js","assets/index.b810dbe8.css"]).then(e=>e.default))},props:{type:{type:String,default:"string"},referenceModel:{type:null,default:()=>({})}},emits:["update:modelValue"],data(){return{modelData:null}},watch:{modelData:{immediate:!0,deep:!0,handler(e,r){r!=null&&(this.cleanObject&&this.clean(e),this.type==="number"||this.type==="integer"?e===""?this.$emit("update:modelValue",null):this.$emit("update:modelValue",+e):this.$emit("update:modelValue",e))}},modelValue:{deep:!0,handler(e,r){JSON.stringify(r)!==JSON.stringify(e)&&this.initModelData()}}},created(){this.initModelData()},methods:{initModelData(){this.modelValue?(this.type==="object"||this.type==="key-value-pairs")&&Object.keys(this.modelValue).length>0?this.modelData=JSON.parse(JSON.stringify(this.modelValue)):this.type==="array"&&this.modelValue.length>0?this.modelData=JSON.parse(JSON.stringify(this.modelValue)):this.type==="boolean"&&this.modelValue!==null?this.modelData=this.modelValue:this.type==="string"||this.type==="number"||this.type==="integer"?this.modelData=this.modelValue:this.modelData=this.initWithBlank():this.modelData=this.initWithBlank()},initWithBlank(){return this.type==="object"||this.type==="key-value-pairs"?{}:this.type==="array"?[]:this.type==="boolean"?!1:this.type==="number"||this.type==="integer"?null:""},clean(e){this.type==="object"||this.type==="key-value-pairs"?Object.keys(e).forEach(r=>{let t="";typeof e[r]!="string"?t=JSON.stringify(e[r]):t=e[r],(t===void 0||t==="null"||t===""||t==="{}"||t==="[]")&&delete e[r]}):this.type==="array"&&e.map((t,l)=>({item:t,idx:l})).filter(t=>{const l=t.item;let i="";return typeof l!="string"?i=JSON.stringify(l):i=l,i===void 0||i==="null"||i===""||i==="{}"||i==="[]"}).map(t=>t.idx).forEach(t=>e.splice(t,1))}}}),q={props:{modelValue:{type:String,default:""},options:{type:Array,required:!0},label:{type:String,default:""}},computed:{internalValue:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}}},x=["value"];function W(e,r,t,l,i,s){return d(),c("div",null,[V("label",null,j(t.label),1),J(V("select",{"onUpdate:modelValue":r[0]||(r[0]=u=>s.internalValue=u)},[(d(!0),c($,null,A(t.options,u=>(d(),c("option",{key:u,value:u},j(u),9,x))),128))],512),[[N,s.internalValue]])])}var z=P(q,[["render",W]]);const G=O({name:"VueOpenapiForm",components:{AcForm:o(()=>n(()=>import("./Form.aad1cdf0.js"),["assets/Form.aad1cdf0.js","assets/index.190f0c2b.js","assets/index.b810dbe8.css"])),FormFooterControl:o(()=>n(()=>import("./FormFooterControl.0a8a8b4c.js"),["assets/FormFooterControl.0a8a8b4c.js","assets/index.190f0c2b.js","assets/index.b810dbe8.css"])),DropdownEnum:z},mixins:[k,U],provide(){const e={};return Object.defineProperty(e,"theme",{enumerable:!0,get:()=>this.themeMode}),{providedData:e}},props:{schema:{type:Object,default:()=>({})},modelValue:{type:Object,default:()=>({})},formTitle:{type:String,default:""},onlyJson:{type:Boolean,default:!1},size:{type:String,default:"small"},themeMode:{type:String,default:"light"}},computed:{extendedSchema(){return C(this.schema,this.formTitle)},modelData(){return this.modelValue}}});function K(e,r,t,l,i,s){const u=m("DropdownEnum"),I=m("object-form-wrapper"),T=m("v-field"),v=m("form-footer-control"),F=m("ac-form"),R=m("v-form");return d(),f(R,{ref:"v-form",as:""},{default:p(({meta:b,validate:D,errors:h})=>[g(F,null,{"form-left-controls":p(()=>[g(v,null,{default:p(()=>[S(e.$slots,"left-controls",{validate:D,formStatus:b,errors:h})]),_:2},1024)]),"form-right-controls":p(()=>[g(v,null,{default:p(()=>[S(e.$slots,"right-controls",{validate:D,formStatus:b,errors:h})]),_:2},1024)]),default:p(()=>[V("div",{class:B(["vue-openapi-form pl-20",{"is-medium":e.size==="medium"}])},[(d(!0),c($,null,A(e.extendedSchema.properties,(y,a)=>(d(),f(T,{key:a,modelValue:e.modelData[a],"onUpdate:modelValue":E=>e.modelData[a]=E,name:a,label:a,rules:e.ruleObject(!0),as:""},{default:p(({field:E,handleChange:L})=>[y.enum?(d(),f(u,{key:0,modelValue:e.modelData[a],"onUpdate:modelValue":w=>e.modelData[a]=w,label:a,options:y.enum},null,8,["modelValue","onUpdate:modelValue","label","options"])):(d(),f(I,{key:1,"field-name":a,"model-value":e.modelData[a],"expand-form":!0,"is-root":!0,level:1,"is-self-required":!0,"only-json":e.onlyJson,schema:y,"reference-model":e.referenceModel||{},errors:h,showRootTab:!0,"onUpdate:modelValue":L},null,8,["field-name","model-value","only-json","schema","reference-model","errors","onUpdate:modelValue"]))]),_:2},1032,["modelValue","onUpdate:modelValue","name","label","rules"]))),128))],2)]),_:2},1024)]),_:3},512)}var Z=P(G,[["render",K]]),Q=Object.freeze(Object.defineProperty({__proto__:null,default:Z},Symbol.toStringTag,{value:"Module"}));export{Q as V,k as m,U as v};
